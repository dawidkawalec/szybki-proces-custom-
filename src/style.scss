@use 'utopia';
@use 'mixins' as *;

// Variables
$color-bg: #18202b; // Stary kolor tła (dla FAQ/Footer)
$color-bg-dark: #141C25; // Nowy, ciemniejszy kolor (dla Blog/Mapa/Why-Us/Reviews/Stats)
$color-text: #ffffff;
$color-text-dark: #1A1A1A; // Ciemny tekst na kartach
$color-text-muted: #b0b0b0;
$color-accent: #c6a87c; // Złoty kolor ze screena
$color-card-bg: #ffffff; // Białe tło kart
$color-danger-bg: #3E2021; // Bordowe tło sekcji ryzyka
$font-heading: 'Merriweather', serif;
$font-body: 'Montserrat', sans-serif;

$container-max-width: 1400px;

// Button Mixins
@mixin btn-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: $font-body;
  font-weight: 600;
  font-size: step(-1);
  text-decoration: none;
  padding: space(s) space(l);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 1px solid transparent;
  line-height: 1.2;
  text-align: center;
}

@mixin btn-solid {
  @include btn-base;
  background-color: $color-accent;
  color: #000000;
  border-color: $color-accent;

  &:hover {
    background-color: lighten($color-accent, 10%);
    border-color: lighten($color-accent, 10%);
    transform: translateY(-2px);
  }
}

@mixin btn-outline {
  @include btn-base;
  background-color: transparent;
  color: $color-accent;
  border-color: $color-accent;

  &:hover {
    background-color: $color-accent;
    color: #000000;
    transform: translateY(-2px);
  }
}

@mixin btn-white {
  @include btn-base;
  background-color: transparent;
  color: #ffffff;
  border-color: #ffffff;

  &:hover {
    background-color: #ffffff;
    color: #000000;
    transform: translateY(-2px);
  }
}

// Reset & Base
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: $font-body;
  background-color: #f4f4f4;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}

// Header
.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  background-color: rgba(#0d1219, 0.8); // Dark glass background
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  transition: background-color 0.3s ease, padding 0.3s ease;

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: space(s) space(l);
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 80px;
  }

  &__logo-link {
    display: flex;
    align-items: center;
    z-index: 1001;
  }

  &__logo {
    height: 40px;
    width: auto;
  }

  // Desktop Navigation
  &__nav {
    @media (max-width: 1024px) {
      display: none;
    }
  }

  &__menu {
    display: flex;
    align-items: center;
    gap: space(l);
    list-style: none;
  }

  &__menu-item {
    position: relative;
    height: 80px;
    display: flex;
    align-items: center;

    &--has-submenu {
      &:hover {
        .mega-menu {
          opacity: 1;
          visibility: visible;
          transform: translateY(0);
        }
        
        .header__arrow {
          transform: rotate(180deg);
        }
      }
    }
  }

  &__link {
    color: #fff;
    text-decoration: none;
    font-family: $font-body;
    font-size: step(-1);
    font-weight: 500;
    transition: color 0.3s ease;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    display: flex;
    align-items: center;
    gap: space(2xs);

    &:hover {
      color: $color-accent;
    }
  }

  &__arrow {
    width: 10px;
    height: 6px;
    transition: transform 0.3s ease;
  }

  &__cta {
    @include btn-solid;
    // Adjust padding for header specifically if needed, but user asked to unify. 
    // If I keep mixin padding, it might be too tall for header (80px).
    // Mixin has padding space(s) space(l). 
    // Original header padding was space(xs) space(m).
    // Let's assume unification is priority, but if it breaks layout I'll adjust.
    // Header height is 80px, space(s) is usually fine.
    
    @media (max-width: 1024px) {
      display: none;
    }
  }

  // Hamburger Button
  &__hamburger {
    display: none;
    background: none;
    border: none;
    cursor: pointer;
    padding: space(xs);
    z-index: 1001;

    @media (max-width: 1024px) {
      display: block;
    }
  }

  &__hamburger-box {
    width: 24px;
    height: 24px;
    display: inline-block;
    position: relative;
  }

  &__hamburger-inner {
    display: block;
    top: 50%;
    margin-top: -2px;
    width: 100%;
    height: 2px;
    background-color: #fff;
    border-radius: 4px;
    position: absolute;
    transition: transform 0.15s ease;

    &::before,
    &::after {
      content: "";
      display: block;
      width: 100%;
      height: 2px;
      background-color: #fff;
      border-radius: 4px;
      position: absolute;
      transition: transform 0.15s ease;
    }

    &::before {
      top: -8px;
    }

    &::after {
      bottom: -8px;
    }
  }

  // Hamburger Active State
  &.is-active {
    .header__hamburger-inner {
      transform: rotate(45deg);
      
      &::before {
        top: 0;
        opacity: 0;
      }
      
      &::after {
        bottom: 0;
        transform: rotate(-90deg);
      }
    }
  }
}

// Mega Menu
.mega-menu {
  position: fixed;
  top: 80px; // Height of header
  left: 0;
  width: 100%;
  background-color: rgba(#0d1219, 0.95);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding: space(xl) 0;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.3s ease;
  box-shadow: 0 20px 40px rgba(0,0,0,0.3);
  z-index: 999;

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: space(2xl);
  }

  &__list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: space(m);
  }

  &__link {
    color: $color-text-muted;
    text-decoration: none;
    font-size: step(-1);
    transition: color 0.2s ease, padding-left 0.2s ease;
    display: block;

    &:hover {
      color: $color-accent;
      padding-left: space(xs);
    }
  }
}

// Mobile Menu
.mobile-menu {
  position: fixed;
  top: 0;
  right: 0;
  width: 100%;
  height: 100vh;
  background-color: #0d1219;
  padding: 100px space(l) space(xl);
  transform: translateX(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  z-index: 1000;
  overflow-y: auto;
  display: flex;
  flex-direction: column;

  &.is-open {
    transform: translateX(0);
  }

  &__container {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  &__list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: space(m);
    margin-bottom: space(xl);
  }

  &__link {
    font-family: $font-heading;
    font-size: step(1);
    color: #fff;
    text-decoration: none;
    font-weight: 700;
    display: block;
  }

  &__btn {
    font-family: $font-heading;
    font-size: step(1);
    color: #fff;
    background: none;
    border: none;
    padding: 0;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    cursor: pointer;
  }

  &__arrow {
    transition: transform 0.3s ease;
  }

  // Submenu in mobile
  &__submenu {
    list-style: none;
    padding-left: space(m);
    margin-top: space(s);
    display: none; // Hidden by default
    flex-direction: column;
    gap: space(s);
    border-left: 1px solid rgba(255, 255, 255, 0.1);

    &.is-open {
      display: flex;
    }
  }

  &__sublink {
    color: $color-text-muted;
    text-decoration: none;
    font-size: step(0);
    display: block;
    padding: space(xs) 0;

    &:hover {
      color: $color-accent;
    }
  }

  &__item--has-submenu {
    &.is-active {
      .mobile-menu__arrow {
        transform: rotate(180deg);
      }
    }
  }

  &__cta {
    margin-top: auto;
    background-color: $color-accent;
    color: #000;
    text-align: center;
    padding: space(m);
    text-decoration: none;
    font-weight: 700;
    border-radius: 4px;
    font-size: step(0);
  }
}

// Definition Section (New)
.definition {
  background-color: $color-bg-dark;
  color: $color-text;
  padding: 0; /* Pełna wysokość bez paddingu góra/dół dla split layoutu */
  border-bottom: 1px solid rgba($color-text, 0.05);
  overflow: hidden;

  &__container {
    /* Kontener na pełną szerokość dla split screena */
    max-width: 100%;
    margin: 0;
    padding: 0;
    
    display: grid;
    grid-template-columns: 1fr 1.2fr; /* Lewa kolumna węższa, prawa szersza */
    min-height: 600px; /* Minimalna wysokość sekcji */

    @media (max-width: 1024px) {
      grid-template-columns: 1fr;
      min-height: auto;
    }
  }

  /* Left Column: Heading */
  &__left-col {
    background-color: $color-bg-dark;
    padding: space(3xl) space(2xl);
    display: flex;
    align-items: center;
    justify-content: center; /* Wyśrodkowanie tekstu */
    position: relative;
    border-right: 1px solid rgba($color-text, 0.1); /* Subtelna linia podziału */

    @media (max-width: 1024px) {
      padding: space(2xl) space(l);
      border-right: none;
      border-bottom: 1px solid rgba($color-text, 0.1);
      justify-content: flex-start;
    }
  }

  &__title {
    font-family: $font-heading;
    font-size: step(4); /* Zmniejszone z 5 dla lepszej harmonii */
    font-weight: 700;
    line-height: 1.2;
    color: $color-text;
    max-width: 14ch;

    @media (max-width: 768px) {
      font-size: step(3);
    }
  }

  /* Right Column: Content */
  &__right-col {
    background-color: $color-bg-dark;
    padding: space(3xl) space(2xl);
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-width: 80ch;

    @media (max-width: 1024px) {
      padding: space(2xl) space(l);
    }
  }

  &__lead {
    font-family: $font-heading;
    font-size: step(0); /* Zmieniono z step(1) - bardziej stonowane */
    line-height: 1.6;
    margin-bottom: space(l);
    color: $color-text;
    font-weight: 400;
  }

  &__desc {
    font-family: $font-body;
    font-size: step(-1);
    line-height: 1.6;
    color: $color-text-muted;
    margin-bottom: space(m);

    strong {
      color: $color-text;
      font-weight: 600;
    }
  }

  &__subtitle {
    font-family: $font-heading;
    font-size: step(1); /* Zmieniono z step(2) - wyraźny podtytuł, ale nie za duży */
    font-weight: 700;
    margin-top: space(m);
    margin-bottom: space(m);
    color: $color-text;
    line-height: 1.3;
  }

  &__list {
    list-style: none;
    margin-bottom: space(xl);
    padding-left: space(xs); /* Lekkie wcięcie dla listy */
    
    li {
      font-family: $font-body;
      font-size: step(-1);
      color: $color-text-muted;
      margin-bottom: space(s); /* Większy oddech między punktami */
      padding-left: space(m);
      position: relative;
      line-height: 1.5;

      &::before {
        content: '•';
        position: absolute;
        left: 0;
        color: $color-text;
        font-weight: bold;
      }
    }
  }

  &__link {
    display: inline-flex;
    align-items: center;
    gap: space(s);
    color: $color-accent;
    text-decoration: none;
    font-family: $font-body;
    font-weight: 600;
    font-size: step(0);
    transition: opacity 0.3s ease;
    align-self: flex-start;

    &:hover {
      opacity: 0.8;
    }

    svg {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    &:hover svg {
      transform: translateX(5px);
    }
  }
}

// Hero Section
.hero {
  background-image: url('/img/hero.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  /* min-height: 100vh; removed */
  display: flex;
  align-items: center;
  padding-top: calc(var(--space-3xl) + 80px);
  padding-bottom: space(3xl);
  position: relative;
  color: #ffffff;

  /* Overlay for better text readability if needed, but image looks dark enough */
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.4); /* Semi-transparent overlay */
    z-index: 1;
  }

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
    position: relative;
    z-index: 2;
    
    display: grid;
    grid-template-columns: 1.2fr 0.8fr; /* Text column wider */
    gap: space(xl);
    align-items: center;

    @media (max-width: 1024px) {
      grid-template-columns: 1fr;
      gap: space(l);
    }
  }

  &__content {
    display: flex;
    flex-direction: column;
    gap: space(l);
  }

  &__title {
    font-family: $font-heading;
    font-size: step(4);
    font-weight: 700;
    line-height: 1.2;
    color: #fff;
    
    @media (max-width: 768px) {
      font-size: step(3);
    }
  }

  &__title-highlight {
    color: $color-accent;
    display: block;
    margin-top: 0;
  }

  &__desc {
    font-family: $font-body;
    font-size: step(0);
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.9);
    max-width: 55ch;
  }

  &__features {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: space(l);
    margin-top: space(s);

    @media (max-width: 600px) {
      flex-direction: column;
      gap: space(m);
    }
  }

  &__feature {
    display: flex;
    align-items: center;
    gap: space(s);
    font-family: $font-body;
    font-size: step(-1);
    font-weight: 500;
  }

  &__check-icon {
    width: 24px;
    height: 24px;
    background-color: $color-accent;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    flex-shrink: 0;

    svg {
      width: 14px;
      height: 14px;
    }
  }

  &__footer {
    display: flex;
    align-items: center;
    gap: space(3xl);
    margin-top: space(l);

    @media (max-width: 600px) {
      flex-direction: column;
      align-items: flex-start;
      gap: space(l);
    }
  }

  &__rating-box {
    display: flex;
    flex-direction: column;
    gap: space(2xs);
  }

  &__rating-label {
    font-family: $font-heading;
    font-weight: 700;
    font-size: step(0);
  }

  &__stars {
    display: flex;
    gap: 2px;
    color: $color-accent;
  }

  &__process-btn {
    @include btn-white;
  }

  // Right Column - Form
  &__form-col {
    display: flex;
    justify-content: flex-end;
    
    @media (max-width: 1024px) {
      justify-content: center;
    }
  }
}

// Hero Form
.hero-form {
  background-color: rgba(23, 29, 38, 0.95); /* Dark card bg */
  padding: space(l);
  width: 100%;
  max-width: 500px;
  /* border-radius: 4px;  Optional based on screen, screen looks sharp */
  box-shadow: 0 20px 40px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
  gap: space(l);

  &__group {
    display: flex;
    flex-direction: column;
    gap: space(xs);
  }

  &__label {
    font-family: $font-body;
    font-size: step(-1);
    color: rgba(255, 255, 255, 0.9);
    font-weight: 300;
  }

  &__input,
  &__select {
    width: 100%;
    background-color: transparent;
    border: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    color: #fff;
    padding: space(xs) 0;
    font-family: $font-body;
    font-size: step(-1);
    border-radius: 0;
    transition: border-color 0.3s ease;

    &:focus {
      outline: none;
      border-bottom-color: $color-accent;
    }

    &::placeholder {
      color: rgba(255, 255, 255, 0.3);
    }
  }

  &__select-wrapper {
    position: relative;
  }

  &__select {
    appearance: none;
    cursor: pointer;
    padding-right: space(l);
    
    option {
      background-color: #171d26;
      color: #fff;
    }
  }

  &__arrow {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    color: #fff;
    font-size: 10px;
    pointer-events: none;
  }

  &__submit {
    @include btn-solid;
    margin-top: space(m);
    width: 100%; // Keep full width for form submit
    font-family: $font-heading; // Override mixin font if needed, or stick to unify? User said unify. I will stick to mixin font (body) or keep heading? Form submit usually stands out. I'll let it be body or unify completely. Let's unify completely to Montserrat ($font-body) as per mixin, unless heading looks better. The screenshot has bold text. Mixin has font-weight 600.
  }
}

// Process Section (New)
.process {
  background-color: $color-bg-dark;
  color: $color-text;
  padding: space(3xl) 0;
  border-bottom: 1px solid rgba($color-text, 0.05);

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
  }

  &__header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: space(3xl);
    gap: space(m);
  }

  &__title {
    font-family: $font-heading;
    font-size: step(4);
    font-weight: 700;
    line-height: 1.2;
    color: $color-text;
  }

  &__subtitle {
    font-family: $font-body;
    font-size: step(0);
    color: $color-text-muted;
    line-height: 1.6;
    max-width: 60ch;
  }

  &__grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: space(xl);
    margin-bottom: space(3xl);

    @media (max-width: 1024px) {
      grid-template-columns: 1fr;
      gap: space(xl);
    }
  }

  &__item {
    display: flex;
    flex-direction: column;
    padding-right: space(xl);
    border-right: 1px solid rgba($color-text, 0.2); /* Vertical separator */

    &:last-child {
      border-right: none;
      padding-right: 0;
    }

    @media (max-width: 1024px) {
      border-right: none;
      padding-right: 0;
      border-bottom: 1px solid rgba($color-text, 0.2);
      padding-bottom: space(l);

      &:last-child {
        border-bottom: none;
        padding-bottom: 0;
      }
    }
  }

  &__top {
    display: flex;
    align-items: center;
    gap: space(m);
    margin-bottom: space(m);
  }

  &__number {
    font-family: $font-heading;
    font-size: step(5); /* Very large number */
    color: $color-text;
    font-weight: 700;
    line-height: 1;
  }

  &__step-title {
    font-family: $font-heading;
    font-size: step(1);
    font-weight: 700;
    line-height: 1.2;
    color: $color-text;
  }

  &__desc {
    font-family: $font-body;
    font-size: step(-1);
    line-height: 1.6;
    color: $color-text-muted;
  }

  &__footer {
    display: flex;
    justify-content: center;
  }

  &__btn {
    @include btn-solid;
  }
}

// Practice Areas Section (Sticky Stack Effect)
.practice-areas {
  background-color: $color-bg-dark;
  color: $color-text;
  padding: space(3xl) 0;
  border-bottom: 1px solid rgba($color-text, 0.05);

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
  }

  &__header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: space(3xl);
    gap: space(m);
  }

  &__title {
    font-family: $font-heading;
    font-size: step(4);
    font-weight: 700;
    line-height: 1.2;
    color: $color-text;
  }

  &__subtitle {
    font-family: $font-body;
    font-size: step(0);
    color: $color-text-muted;
    line-height: 1.5;
    max-width: 60ch;
  }

  &__list {
    display: flex;
    flex-direction: column;
    gap: space(xl); /* Odstęp między kartami zanim zaczną na siebie nachodzić */
    padding-bottom: space(3xl);
  }

  &__item {
    position: sticky; /* Klucz do efektu */
    top: 0; /* Domyślny top, nadpisywany pętlą poniżej */
    background-color: #1e2834; /* Nieco jaśniejsze tło karty niż tło sekcji, żeby się odcinało */
    border: 1px solid rgba($color-text, 0.1);
    border-radius: 8px;
    padding: space(2xl);
    box-shadow: 0 -10px 30px rgba(0,0,0,0.3); /* Cień rzucany "w górę" na poprzednią kartę */
    
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: space(2xl);
    align-items: start;
    
    /* Minimalna wysokość, żeby scrollowanie trwało chwilę */
    min-height: 400px; 
    
    /* Loop do generowania przesunięć (staggered sticky top) */
    @for $i from 1 through 8 {
      &:nth-child(#{$i}) {
        /* 
           100px = margines od góry ekranu (żeby nie zasłaniać menu jeśli jest sticky, lub po prostu dla oddechu)
           $i * 10px = kaskada, każda kolejna karta przykleja się 10px niżej, dzięki czemu widać nagłówki poprzednich
        */
        top: calc(80px + #{$i * 15}px); 
        z-index: $i;
      }
    }

    @media (max-width: 1024px) {
      grid-template-columns: 1fr;
      gap: space(l);
      padding: space(l);
      
      /* Disable Sticky on Mobile for better UX with long content */
      position: relative;
      top: auto !important; /* Override loop styles */
      min-height: auto;
      box-shadow: none;
      border-bottom: 1px solid rgba($color-text, 0.1);
      margin-bottom: space(l);
      
      /* Remove loop styles effect */
      @for $i from 1 through 8 {
        &:nth-child(#{$i}) {
          top: auto;
          z-index: 1;
        }
      }
    }
  }

  &__img-wrapper {
    width: 100%;
    height: 300px;
    border-radius: 4px;
    overflow: hidden;
    
    @media (max-width: 1024px) {
      height: 200px;
      order: -1; /* Obrazek na górze na mobile */
    }
  }

  &__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }

  &__content {
    display: flex;
    flex-direction: column;
    gap: space(l);
  }

  &__top {
    display: flex;
    align-items: baseline;
    gap: space(m);
    border-bottom: 1px solid rgba($color-text, 0.1);
    padding-bottom: space(m);
  }

  &__number {
    font-family: $font-body;
    font-size: step(1);
    color: $color-accent;
    font-weight: 600;
  }

  &__name {
    font-family: $font-heading;
    font-size: step(2);
    font-weight: 700;
    color: $color-text;
  }

  &__details {
    display: flex;
    flex-direction: column;
    gap: space(l);
  }

  &__desc-row {
    display: flex;
    flex-direction: column;
    gap: space(m);
  }

  &__desc {
    font-family: $font-body;
    font-size: step(0);
    line-height: 1.6;
    color: $color-text-muted;
    max-width: 65ch;
  }

  &__btn {
    @include btn-outline;
    align-self: flex-start;
  }

  &__links {
    display: flex;
    gap: space(3xl);
    margin-top: space(m);
    
    ul {
      list-style: none;
      
      li {
        font-family: $font-body;
        font-size: step(-1);
        color: $color-text-muted;
        margin-bottom: space(s);
        cursor: pointer;
        transition: color 0.2s ease;
        position: relative;
        padding-left: space(m);
        
        &::before {
          content: '→';
          position: absolute;
          left: 0;
          color: $color-accent;
          opacity: 0.5;
          transition: opacity 0.2s ease;
        }
        
        &:hover {
          color: $color-text;
          
          &::before {
            opacity: 1;
          }
        }
      }
    }
    
    @media (max-width: 600px) {
      flex-direction: column;
      gap: space(m);
    }
  }
}

// Success Stories Section (New)
.success-stories {
  background-color: $color-bg-dark;
  color: $color-text;
  padding: space(3xl) 0;
  border-bottom: 1px solid rgba($color-text, 0.05);
  overflow-x: hidden; /* Prevent horizontal scroll from breakout */

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
  }

  &__header {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: space(2xl);
    flex-wrap: wrap;
    gap: space(m);
    text-align: center;
  }

  &__title {
    font-family: $font-heading;
    font-size: step(4); /* Fluid font size matching main headings */
    font-weight: 700;
    line-height: 1.2;
    color: $color-text;
  }

  &__content {
    display: grid;
    grid-template-columns: 0.5fr 1.5fr; /* Adjusted: Image column narrower, text columns wider (1:3 ratio) */
    gap: space(2xl);
    align-items: stretch;

    @media (max-width: 1024px) {
      grid-template-columns: 1fr;
    }
  }

  &__img-wrapper {
    position: relative;
    border-radius: 2px;
    overflow: hidden;
    min-height: 300px;
    /* Breakout logic: Pull image to the left to create "out of grid" effect */
    width: calc(100% + 15vw); 
    margin-left: -15vw;
    
    @media (max-width: 1024px) {
        order: 2; 
        max-height: 400px;
        width: 100%;
        margin-left: 0;
    }
  }

  &__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  &__grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: space(l); /* Ensure consistent gap */
    
    @media (max-width: 768px) {
      grid-template-columns: 1fr;
      gap: space(xl);
    }
  }

  &__item {
    padding: 0 space(l);
    position: relative; /* Needed for pseudo-element positioning */
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    height: 100%;

    /* Separator line using pseudo-element for centering */
    &::after {
      content: '';
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      height: 70%; /* Not full height, creating centered look */
      width: 1px;
      background-color: rgba($color-text, 0.2);
    }

    &:last-child {
      padding-right: 0;
      &::after {
        display: none; /* Remove separator for the last item */
      }
    }

    &:first-child {
       padding-left: 0;
    }
    
    @media (max-width: 768px) {
      border-bottom: 1px solid rgba($color-text, 0.2);
      padding: 0 0 space(l) 0;
      
      /* Disable vertical separator on mobile */
      &::after {
        display: none;
      }
      
      &:last-child {
        border-bottom: none;
        padding-bottom: 0;
      }
       &:first-child {
       padding-left: 0;
      }
    }
  }

  &__icon-wrapper {
    color: #fff;
    margin-bottom: space(m);
    
    svg {
      width: 48px;
      height: 48px;
      stroke-width: 1;
    }
  }

  &__item-title {
    font-family: $font-heading;
    font-size: step(0);
    font-weight: 700;
    margin-bottom: space(m);
    color: $color-text;
    line-height: 1.4;
  }

  &__item-desc {
    font-family: $font-body;
    font-size: step(-1);
    line-height: 1.6;
    color: $color-text-muted;
    margin-bottom: space(l);
    flex-grow: 1;
  }

  &__result {
    display: flex;
    flex-direction: column;
    gap: space(3xs);
  }

  &__result-label {
    font-weight: 700;
    color: $color-accent;
    font-size: step(-1);
  }

  &__result-sub {
    color: $color-accent;
    font-size: step(-1);
  }
}

// Stats Section (Numbers)
.stats {
  background-color: $color-bg-dark;
  color: $color-text;
  padding: space(3xl) 0;

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
  }

  &__grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: space(2xl);
    row-gap: space(3xl); // Większy odstęp między rzędami

    @media (max-width: 900px) {
      grid-template-columns: 1fr; // Jedna kolumna na mobile
      gap: space(xl);
    }
  }

  &__item {
    display: flex;
    flex-direction: column;
    justify-content: center;

    &--header {
      // Pierwszy element to nagłówek sekcji
      @media (max-width: 900px) {
        text-align: center;
        align-items: center;
        margin-bottom: space(l);
      }
    }

    &:not(&--header) {
      padding-left: space(l);
      border-left: 1px solid rgba($color-text, 0.2); // Linia oddzielająca

      @media (max-width: 900px) {
        padding-left: 0;
        border-left: none;
        border-top: 1px solid rgba($color-text, 0.2); // Na mobile linia u góry? Albo brak
        padding-top: space(m);
        align-items: center;
        text-align: center;
      }
    }
  }

  &__title {
    font-family: $font-heading;
    font-size: step(4); // Duży nagłówek
    font-weight: 700;
    line-height: 1.2;
    color: $color-text;
  }

  &__number {
    font-family: $font-heading;
    font-size: step(3); // Duża liczba
    font-weight: 700;
    color: $color-text;
    margin-bottom: space(2xs);
  }

  &__label {
    font-family: $font-body;
    font-size: step(0);
    font-weight: 700;
    color: $color-text;
    margin-bottom: space(3xs);
    
    span {
      font-weight: 400; // Część po myślniku może być lżejsza, ale tu wszystko jest w label
    }
  }

  &__desc {
    font-family: $font-body;
    font-size: step(-1);
    color: $color-text-muted;
    line-height: 1.5;
  }
}

// Reviews Section
.reviews {
  background-color: $color-bg-dark;
  color: $color-text;
  padding: space(3xl) 0;
  overflow-x: hidden; // Zapobiega poziomemu scrollowi strony przez wystający slider

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
    
    display: grid;
    grid-template-columns: 1fr 1.5fr; // Lewa kolumna mniejsza, prawa szersza na slider
    gap: space(2xl);
    align-items: center;

    @media (max-width: 1024px) {
      grid-template-columns: 1fr; // Na mniejszych ekranach jedna kolumna
      gap: space(xl);
    }
  }

  &__info {
    display: flex;
    flex-direction: column;
    gap: space(m);
    max-width: 45ch;
    z-index: 10; // Zapewnia, że treść i przyciski są nad sliderem w razie kolizji
    position: relative;
  }

  &__title {
    font-family: $font-heading;
    font-size: step(3);
    font-weight: 700;
    line-height: 1.2;
  }

  &__desc {
    font-family: $font-body;
    font-size: step(0);
    color: $color-text-muted;
    line-height: 1.6;
    margin-bottom: space(m);
  }

  &__nav {
    display: flex;
    gap: space(m);
  }

  &__btn {
    width: 50px;
    height: 50px;
    background: transparent;
    color: $color-accent;
    border: none;
    padding: 0;
    cursor: pointer;
    transition: opacity 0.3s ease, transform 0.2s ease;
    
    svg {
      width: 48px; // Duże strzałki
      height: 48px;
      stroke-width: 0.5; // Cienkie linie
    }

    &:hover {
      opacity: 0.7;
      transform: scale(1.1);
    }
  }

  // Slider Wrapper
  &__slider-wrapper {
    min-width: 0; // Ważne dla flex/grid item
    // Breakout logic: rozciągnij w prawo do krawędzi ekranu
    // Zakładając, że container jest wycentrowany.
    // width: 100% (zajmuje dostępną przestrzeń w gridzie) + (połowa marginesu strony)
    // Uproszczone: bardzo szeroki kontener z overflow visible na sekcji (już jest)
    width: 100vw; // Szerokość viewportu
    margin-right: -50vw; // Negatywny margines, żeby wyjść poza grid w prawo
    
    @media (max-width: 1024px) {
      width: 100%; // Reset na mobile
      margin-right: 0;
    }
  }
}

// Swiper Custom Styles
.reviews-swiper {
  overflow: hidden; 
  padding-right: 20%; 
  // Maskowanie lewej krawędzi, aby slajdy nie "wyskakiwały" nagle przy przewijaniu lub loopie
  mask-image: linear-gradient(to right, transparent 0, black 20px, black 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0, black 20px, black 100%);
  
  .swiper-slide {
    width: 400px; // Stała szerokość karty
    height: auto;
    opacity: 0.4;
    transition: opacity 0.3s ease;

    &.swiper-slide-active,
    &.swiper-slide-next {
      opacity: 1;
    }
    
    @media (max-width: 600px) {
      width: 300px; // Węższe karty na mobile
    }
  }
}

// Review Card
.review-card {
  background-color: transparent; // Przezroczyste tło
  display: flex;
  flex-direction: column;
  gap: space(m);
  
  &__header {
    display: flex;
    align-items: center;
    gap: space(m);
  }

  &__avatar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    overflow: hidden;
    flex-shrink: 0;
    
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }

  &__meta {
    display: flex;
    flex-direction: column;
    gap: space(3xs);
  }

  &__name {
    font-family: $font-heading;
    font-size: step(0);
    font-weight: 700;
    color: $color-text;
  }

  &__role {
    font-family: $font-body;
    font-size: step(-2);
    color: $color-text-muted;
  }

  &__text {
    font-family: $font-body;
    font-size: step(-1);
    line-height: 1.6;
    color: rgba($color-text, 0.9);
    font-style: italic; // Cytat
  }

  &__rating {
    display: flex;
    align-items: center;
    gap: space(s);
  }

  &__stars {
    display: flex;
    color: $color-accent; // Złote gwiazdki
    gap: 2px;
  }

  &__score {
    font-family: $font-body;
    font-size: step(0);
    font-weight: 600;
    color: $color-text;
  }
}

// Why Us Section
.why-us {
  background-color: $color-bg-dark;
  color: $color-text;
  padding: space(3xl) 0;

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
    
    display: grid;
    grid-template-columns: 1fr 0.8fr 1fr; // Zmiana: Węższa środkowa kolumna
    gap: space(xl);
    align-items: stretch; // Rozciągnij do równej wysokości

    @media (max-width: 1024px) {
      grid-template-columns: 1fr 1fr; // Tablet: Zdjęcie (ukryte?) + Treść, Ryzyko pod spodem?
      // Albo: Treść + Ryzyko obok siebie, zdjęcie nad/pod?
      // Ze screena to layout desktopowy. Na tablet zrobimy:
      // Treść | Ryzyko
      // (Zdjęcie ukryte lub nad)
    }
    
    @media (max-width: 900px) {
      grid-template-columns: 1fr; // Mobile/Small Tablet: Jedna pod drugą
      gap: space(2xl);
    }
  }

  &__img-col {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    
    @media (max-width: 1024px) {
      display: none; // Ukrywamy zdjęcie na mniejszych ekranach dla czytelności, lub można przenieść
    }
  }

  &__img {
    width: 100%;
    height: 100%;
    max-height: 600px;
    object-fit: cover;
    border-radius: 4px;
    // Opcjonalnie gradient overlay jak na screenie (cień z lewej)
    mask-image: linear-gradient(to right, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 10%);
  }

  &__content-col {
    padding: space(l) 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  &__title {
    font-family: $font-heading;
    font-size: step(3);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: space(m);
    color: $color-text;
  }

  &__desc {
    font-family: $font-body;
    font-size: step(0);
    color: $color-text-muted;
    line-height: 1.6;
    margin-bottom: space(xl);
    max-width: 45ch;
  }

  &__list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: space(m);
  }

  &__item {
    display: flex;
    align-items: flex-start;
    gap: space(m);
  }

  &__icon-wrapper {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    background-color: $color-accent;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    
    svg {
      width: 18px;
      height: 18px;
    }
  }

  &__text {
    font-family: $font-body;
    font-size: step(-1);
    color: $color-text;
    line-height: 1.5;
    padding-top: space(3xs); // Optyczne wyrównanie z ikoną
  }

  // Danger / Risk Column
  &__risk-col {
    background-color: $color-danger-bg;
    padding: space(xl);
    display: flex;
    flex-direction: column;
    justify-content: center;
    // border-radius: 4px; // Na screenie jest proste, bez radiusa, ale dla spójności można dodać
  }

  &__risk-title {
    font-family: $font-heading;
    font-size: step(2);
    font-weight: 700;
    margin-bottom: space(l);
    color: $color-text;
  }

  &__risk-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: space(l);
  }

  &__risk-item {
    display: flex;
    align-items: flex-start;
    gap: space(m);
  }

  &__risk-icon-wrapper {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    background-color: $color-accent; // Na screenie też złote ikony
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;

    svg {
      width: 18px;
      height: 18px;
    }
  }

  &__risk-content {
    display: flex;
    flex-direction: column;
    gap: space(2xs);
  }

  &__risk-heading {
    font-weight: 700;
    font-size: step(-1);
    color: $color-text;
  }

  &__risk-desc {
    font-size: step(-2);
    color: rgba($color-text, 0.8);
    line-height: 1.5;
  }
}

// Blog Section
.blog {
  background-color: $color-bg-dark; // Nowe ciemne tło
  color: $color-text;
  padding: space(3xl) 0;
  
  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  &__header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    width: 100%;
    margin-bottom: space(2xl);
    gap: space(s);
  }

  &__title {
    font-family: $font-heading;
    font-size: step(2); // Zmniejszono z step(3)
    font-weight: 700;
    line-height: 1.2;
    // max-width removed to allow full width centering
  }

  &__subtitle {
    font-family: $font-body;
    font-size: step(-1);
    color: $color-text-muted;
    max-width: 60ch; // Increased width for better centering look
    line-height: 1.6;
    text-align: center;
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: space(l);
    width: 100%;
    margin-bottom: space(2xl);

    @media (max-width: 1024px) {
      grid-template-columns: repeat(2, 1fr);
    }

    @media (max-width: 640px) {
      grid-template-columns: 1fr;
    }
  }

  &__card {
    background-color: $color-card-bg;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease;
    
    &:hover {
      transform: translateY(-5px);
    }
  }

  &__img-wrapper {
    position: relative;
    aspect-ratio: 16 / 9;
    overflow: hidden;
  }

  &__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  &__category {
    position: absolute;
    top: space(m);
    left: space(m);
    background-color: $color-accent;
    color: #000;
    padding: space(2xs) space(s);
    font-family: $font-body;
    font-weight: 600;
    font-size: step(-2);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  &__content {
    padding: space(l);
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    color: $color-text-dark;
  }

  &__date {
    display: flex;
    align-items: center;
    gap: space(2xs);
    font-size: step(-2);
    color: lighten($color-text-dark, 40%);
    margin-bottom: space(s);
    font-weight: 500;

    svg {
      width: 16px;
      height: 16px;
    }
  }

  &__card-title {
    font-family: $font-heading;
    font-size: step(0); // Zmieniono z step(1) na step(0)
    font-weight: 700;
    line-height: 1.3;
    margin-bottom: space(s);
    color: $color-text-dark;
  }

  &__card-desc {
    font-family: $font-body;
    font-size: step(-1);
    line-height: 1.6;
    color: lighten($color-text-dark, 20%);
    margin-bottom: space(l);
    flex-grow: 1;
  }

  &__link {
    display: inline-flex;
    align-items: center;
    gap: space(2xs);
    color: #000;
    text-decoration: none;
    font-weight: 700;
    font-size: step(-2);
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: color 0.3s ease;

    &:hover {
      color: $color-accent;
    }
  }

  &__btn {
    @include btn-solid;
  }
}

// Map Section
.map-section {
  background-color: $color-bg-dark; // Zmiana tła na nowe
  color: $color-text;
  padding: space(3xl) 0;

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
  }

  &__header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: space(2xl);
    gap: space(s);
  }

  &__title {
    font-family: $font-heading;
    font-size: step(4);
    font-weight: 700;
    line-height: 1.2;
  }

  &__subtitle {
    font-family: $font-body;
    font-size: step(0);
    color: $color-text-muted;
    line-height: 1.5;
    max-width: 50ch;
  }

  &__content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: space(2xl);
    align-items: center;

    @media (max-width: 1024px) {
      grid-template-columns: 1fr;
      gap: space(xl);
    }
  }

  &__map-col {
    display: flex;
    justify-content: center;
  }

  &__map-img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  &__cities-col {
    font-family: $font-body;
  }

  &__region-title {
    font-family: $font-heading;
    font-size: step(3);
    margin-bottom: space(xl);
    color: $color-text;
  }

  &__cities-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: space(l);
    
    @media (max-width: 640px) {
      grid-template-columns: 1fr 1fr;
      gap: space(m);
    }
    
    @media (max-width: 400px) {
      grid-template-columns: 1fr;
    }
  }

  &__cities-list {
    list-style: none;
    padding-left: space(l);
    border-left: 1px solid rgba($color-text, 0.2);
    
    display: flex;
    flex-direction: column;
    gap: space(s);

    li {
      font-size: step(-1);
      color: $color-text;
      font-weight: 300;
    }
  }
}

// FAQ & Contact Section
.faq-contact {
  background-color: $color-bg;
  color: $color-text;
  padding: space(3xl) 0;
  // Usunąłem border-top, bo teraz jest sekcja nad nim

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);
    
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: space(3xl);
    align-items: start;

    @media (max-width: 1024px) {
      grid-template-columns: 1fr;
      gap: space(2xl);
    }
  }

  &__heading {
    font-family: $font-heading;
    font-size: step(3);
    font-weight: 700;
    line-height: 1.3;
    margin-bottom: space(xl);
    color: $color-text;
    max-width: 25ch;
  }
}

// Accordion (FAQ) Styles
.faq {
  display: flex;
  flex-direction: column;
  
  &__item {
    border-bottom: 1px solid rgba($color-text, 0.2);
    transition: background-color 0.3s ease;

    &:first-child {
      border-top: 1px solid rgba($color-text, 0.2);
    }

    &--active {
      background-color: $color-accent;
      border-bottom: none;

      .faq__question {
        color: #000;
        font-weight: 500;
      }

      .faq__icon {
        transform: rotate(180deg);
        color: #000;
      }

      .faq__content {
        max-height: 500px;
        opacity: 1;
        padding-bottom: space(l);
      }
      
      .faq__text {
        color: rgba(0, 0, 0, 0.8);
      }
    }
  }

  &__header {
    width: 100%;
    background: none;
    border: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: space(l) space(m);
    cursor: pointer;
    text-align: left;
    gap: space(m);

    &:hover {
      background-color: rgba($color-text, 0.05);
    }
    
    .faq__item--active &:hover {
      background-color: transparent;
    }
  }

  &__question {
    font-family: $font-heading;
    font-size: step(0);
    font-weight: 700;
    color: $color-text;
    transition: color 0.3s ease;
  }

  &__icon {
    color: $color-accent;
    transition: transform 0.3s ease, color 0.3s ease;
    display: flex;
    align-items: center;
  }

  &__content {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    padding: 0 space(m);
    transition: max-height 0.4s ease, opacity 0.3s ease, padding 0.3s ease;
  }

  &__text {
    font-family: $font-body;
    font-size: step(-1);
    line-height: 1.6;
    color: $color-text-muted;
    padding-top: 0;
    max-width: 60ch;
  }
}

// Contact Form Styles
.contact-form {
  display: flex;
  flex-direction: column;
  gap: space(l);
  padding-top: space(s);

  &__group {
    display: flex;
    flex-direction: column;
    gap: space(2xs);
    position: relative;
  }

  &__label {
    font-family: $font-body;
    font-size: step(-1);
    color: $color-text-muted;
  }

  &__input,
  &__textarea,
  &__select {
    width: 100%;
    background-color: transparent;
    border: none;
    border-bottom: 1px solid rgba($color-text, 0.3);
    color: $color-text;
    font-family: $font-body;
    font-size: step(0);
    padding: space(s) 0;
    border-radius: 0;
    transition: border-color 0.3s ease;

    &:focus {
      outline: none;
      border-bottom-color: $color-accent;
    }

    &::placeholder {
      color: rgba($color-text, 0.3);
    }
  }
  
  &__textarea {
    min-height: 120px;
    resize: vertical;
  }

  &__select-wrapper {
    position: relative;
  }

  &__select {
    appearance: none;
    cursor: pointer;
  }

  &__select-icon {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: $color-text;
  }

  &__footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: space(l);
    margin-top: space(m);

    @media (max-width: 640px) {
      flex-direction: column-reverse;
      align-items: stretch;
    }
  }

  &__legal {
    font-size: step(-2);
    color: $color-text-muted;
    line-height: 1.4;
    max-width: 35ch;
  }

  &__btn {
    background-color: $color-accent;
    color: #000;
    border: none;
    padding: space(s) space(xl);
    font-family: $font-body;
    font-weight: 600;
    font-size: step(0);
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    white-space: nowrap;

    &:hover {
      background-color: lighten($color-accent, 10%);
      transform: translateY(-2px);
    }
  }
}

// Footer Styles
.footer {
  background-color: $color-bg;
  color: $color-text;
  padding-top: space(2xl);
  font-size: step(-1);
  line-height: 1.6;

  &__container {
    max-width: $container-max-width;
    margin: 0 auto;
    padding: 0 space(l);

    @media (min-width: 1024px) {
      display: grid;
      grid-template-columns: 2.5fr 1.5fr 1.5fr 2fr 1fr;
      gap: space(l);
    }

    @media (max-width: 1023px) {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: space(l);
    }

    @media (max-width: 640px) {
      grid-template-columns: 1fr;
    }
    
    &--bottom {
      max-width: $container-max-width;
      margin: 0 auto;
      padding: space(l);
      
      display: grid;
      grid-template-columns: 1fr 1fr;
      align-items: center;
      
      border-top: 1px solid rgba($color-accent, 0.3);
      margin-top: space(xl);
      gap: space(l);

      @media (max-width: 768px) {
        grid-template-columns: 1fr;
        gap: space(m);
        padding: space(l);
      }
    }
  }

  &__col {
    display: flex;
    flex-direction: column;
    
    &--brand {
      padding-right: space(l);
    }
  }

  &__logo {
    max-width: 180px;
    height: auto;
    margin-bottom: space(m);
    display: block;
  }

  &__desc {
    color: $color-text-muted;
    font-size: step(-1);
    max-width: 35ch;
    line-height: 1.6;
  }

  &__heading {
    font-family: $font-heading;
    font-size: step(1);
    font-weight: 700;
    margin-bottom: space(m);
    color: $color-text;
  }

  &__heading-spacer {
    height: step(1);
    margin-bottom: space(m);
    
    @media (max-width: 1023px) {
      display: none;
    }
  }

  &__list {
    list-style: none;
    
    &--icons {
      .footer__item {
        display: flex;
        align-items: center;
        gap: space(2xs);
      }
    }
  }

  &__item {
    margin-bottom: space(s);
    display: flex;
    align-items: flex-start;
    
    &:last-child {
      margin-bottom: 0;
    }
  }

  &__link {
    color: $color-text;
    text-decoration: none;
    transition: color 0.3s ease;
    font-weight: 300;

    &:hover {
      color: $color-accent;
    }

    &--legal {
      margin-left: 0;
      font-size: step(-1);
      color: $color-text-muted;

      &:hover {
        color: $color-text;
      }
    }
  }

  &__icon {
    color: $color-text;
    min-width: 20px;
  }

  &__text {
    color: $color-text;
    font-weight: 300;
  }

  &__legal {
    display: flex;
    gap: space(l);
    justify-self: end;

    @media (max-width: 640px) {
      justify-self: start;
      width: 100%;
      justify-content: flex-start;
      gap: space(m);
    }
  }

  &__copyright {
    color: $color-text;
    font-size: step(-1);
  }

}

// CTA Section
.cta {
  position: relative;
  background-color: $color-bg;
  background-image: url('/img/CTA-bg.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  padding: space(3xl) space(l);
  text-align: center;
  color: $color-text;
  display: flex;
  justify-content: center;
  align-items: center;

  &__container {
    position: relative;
    max-width: $container-max-width;
    margin: 0 auto;
  }

  &__heading {
    font-family: $font-heading;
    font-size: step(4);
    font-weight: 700;
    line-height: 1.3;
    margin-bottom: space(m);
    color: $color-text;
  }

  &__desc {
    font-family: $font-body;
    font-size: step(0);
    line-height: 1.6;
    color: rgba($color-text, 0.9);
    max-width: 65ch;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: space(l);
    font-weight: 300;
  }

  &__btn {
    @include btn-solid;
  }
}
